import{g as K,f as Q,r as g,u as W,h,T as c,j as e,s as A,i as X,t as S,k as b,B as i,D as Y,I as j,n as Z,o as ee,U as P,q as te,v as ae,w as se,p as T,x as oe,y as re,R as ne,z as ie,E as le,G as de,e as ce}from"./index-DQDqTxBb.js";import{C as pe}from"./custom-breadcrumbs-DsoBZfRF.js";import{G as u}from"./Grid-CFl9eb3d.js";import{S as C}from"./Stack-nn9g4P4i.js";function xe(t){return Q("MuiCardHeader",t)}const v=K("MuiCardHeader",["root","avatar","action","content","title","subheader"]),he=t=>{const{classes:a}=t;return X({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},xe,a)},me=A("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,a)=>[{[`& .${v.title}`]:a.title},{[`& .${v.subheader}`]:a.subheader},a.root]})({display:"flex",alignItems:"center",padding:16}),ye=A("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),fe=A("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),ge=A("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${S.root}:where(& .${v.title})`]:{display:"block"},[`.${S.root}:where(& .${v.subheader})`]:{display:"block"}}),w=g.forwardRef(function(a,l){const r=W({props:a,name:"MuiCardHeader"}),{action:n,avatar:s,component:o="div",disableTypography:m=!1,subheader:E,subheaderTypographyProps:R,title:H,titleTypographyProps:I,slots:U={},slotProps:M={},...D}=r,d={...r,component:o,disableTypography:m},p=he(d),x={slots:U,slotProps:{title:I,subheader:R,...M}};let y=H;const[$,k]=h("title",{className:p.title,elementType:c,externalForwardedProps:x,ownerState:d,additionalProps:{variant:s?"body2":"h5",component:"span"}});y!=null&&y.type!==c&&!m&&(y=e.jsx($,{...k,children:y}));let f=E;const[F,L]=h("subheader",{className:p.subheader,elementType:c,externalForwardedProps:x,ownerState:d,additionalProps:{variant:s?"body2":"body1",color:"textSecondary",component:"span"}});f!=null&&f.type!==c&&!m&&(f=e.jsx(F,{...L,children:f}));const[B,z]=h("root",{ref:l,className:p.root,elementType:me,externalForwardedProps:{...x,...D,component:o},ownerState:d}),[G,_]=h("avatar",{className:p.avatar,elementType:ye,externalForwardedProps:x,ownerState:d}),[O,V]=h("content",{className:p.content,elementType:ge,externalForwardedProps:x,ownerState:d}),[q,J]=h("action",{className:p.action,elementType:fe,externalForwardedProps:x,ownerState:d});return e.jsxs(B,{...z,children:[s&&e.jsx(G,{..._,children:s}),e.jsxs(O,{...V,children:[y,f]}),n&&e.jsx(q,{...J,children:n})]})});function je({user:t,sx:a,...l}){const r=()=>e.jsx(b,{sx:{py:3,textAlign:"center",typography:"h4"},children:e.jsxs(C,{divider:e.jsx(Y,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{flexDirection:"row"},children:[e.jsxs(C,{sx:{width:1},children:[e.jsx(c,{variant:"h4",children:(t==null?void 0:t.UID)||"N/A"}),e.jsx(i,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"User ID"})]}),e.jsxs(C,{sx:{width:1},children:[e.jsx(c,{variant:"h4",children:t!=null&&t.EMAIL?"Active":"Inactive"}),e.jsx(i,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Status"})]})]})}),n=()=>e.jsxs(b,{children:[e.jsx(w,{title:"About"}),e.jsxs(i,{sx:{p:3,gap:2,display:"flex",typography:"body2",flexDirection:"column"},children:[e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:user-id-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Name:"})," ",t==null?void 0:t.FIRSTNAME," ",t==null?void 0:t.LASTNAME]})]}),e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:letter-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Email:"})," ",(t==null?void 0:t.EMAIL)||"N/A"]})]}),e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:phone-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Phone:"})," ",(t==null?void 0:t.PHONENUMBER)||"N/A"]})]}),e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:calendar-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Created:"})," ",t!=null&&t.CREATED_AT?new Date(t.CREATED_AT).toLocaleDateString():"N/A"]})]})]})]}),s=()=>e.jsxs(b,{children:[e.jsx(w,{title:"User Data"}),e.jsx(i,{sx:{p:3},children:e.jsx(c,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap"},children:JSON.stringify(t,null,2)})})]});return e.jsxs(u,{container:!0,spacing:3,sx:a,...l,children:[e.jsxs(u,{size:{xs:12,md:4},sx:{gap:3,display:"flex",flexDirection:"column"},children:[r(),n()]}),e.jsx(u,{size:{xs:12,md:8},sx:{gap:3,display:"flex",flexDirection:"column"},children:s()})]})}function be({sx:t,name:a,role:l,coverUrl:r,avatarUrl:n,...s}){return e.jsx(i,{sx:[o=>({...o.mixins.bgGradient({images:[`linear-gradient(0deg, ${P(o.vars.palette.primary.darkerChannel,.8)}, ${P(o.vars.palette.primary.darkerChannel,.8)})`,`url(${r})`]}),height:1,color:"common.white"}),...Array.isArray(t)?t:[t]],...s,children:e.jsxs(i,{sx:{display:"flex",left:{md:24},bottom:{md:24},zIndex:{md:10},pt:{xs:6,md:0},position:{md:"absolute"},flexDirection:{xs:"column",md:"row"}},children:[e.jsx(Z,{alt:a,src:n,sx:[o=>({mx:"auto",width:{xs:64,md:128},height:{xs:64,md:128},border:`solid 2px ${o.vars.palette.common.white}`})],children:a==null?void 0:a.charAt(0).toUpperCase()}),e.jsx(ee,{primary:a,secondary:l,slotProps:{primary:{sx:{typography:"h4"}},secondary:{sx:{mt:.5,opacity:.48,color:"inherit"}}},sx:{mt:3,ml:{md:3},textAlign:{xs:"center",md:"unset"}}})]})})}const ve=[{value:"",label:"Profile",icon:e.jsx(j,{width:24,icon:"solar:user-id-bold"})}],N="tab";function Ae({user:t}){const a=te(),r=ae().get(N)??"",n=(s,o)=>{const m=new URLSearchParams({[N]:o}).toString();return o?`${s}?${m}`:s};return e.jsxs(se,{children:[e.jsx(pe,{heading:"Profile",links:[{name:"Dashboard",href:T.dashboard.root},{name:"User",href:T.dashboard.user.root},{name:t!=null&&t.FIRSTNAME?`${t.FIRSTNAME} ${t.LASTNAME}`:"Profile"}],sx:{mb:{xs:3,md:5}}}),e.jsxs(b,{sx:{height:290},children:[e.jsx(be,{role:"User",name:t!=null&&t.FIRSTNAME?`${t.FIRSTNAME} ${t.LASTNAME}`:"User",avatarUrl:t==null?void 0:t.avatarUrl,coverUrl:"/assets/images/cover/cover_1.jpg"}),e.jsx(i,{sx:{width:1,bottom:0,zIndex:9,px:{md:3},display:"flex",position:"absolute",bgcolor:"background.paper",justifyContent:{xs:"center",md:"flex-end"}},children:e.jsx(oe,{value:r,children:ve.map(s=>e.jsx(re,{component:ne,value:s.value,icon:s.icon,label:s.label,href:n(a,s.value)},s.value))})})]}),r===""&&e.jsx(je,{user:t,sx:{mt:3}})]})}const ue={title:`Profile | Account - ${ce.appName}`};function we(){const t=ie(),{authenticated:a}=le(),[l,r]=g.useState({});a||t.push("/login");const n=g.useCallback(async()=>{try{const o=await de.get("/profile");o.status===200&&r(o.data.user)}catch(o){console.error("Error fetching profile data:",o)}},[]),s=g.useCallback(async()=>{try{a?await n():t.push("/login")}catch(o){console.error("Error checking auth:",o)}},[a,t,n]);return g.useEffect(()=>{s()},[s]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:ue.title}),e.jsx(Ae,{user:l})]})}export{we as default};
