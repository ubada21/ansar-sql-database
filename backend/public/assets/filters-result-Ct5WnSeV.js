import{ar as Bt,r as I,av as gt,aw as Ht,ax as Ue,ay as Gt,u as _t,j as a,az as Kt,aA as qt,h as ht,s as $,ae as Ft,aB as Nt,aa as Ut,_ as mt,a2 as Wt,i as Yt,aC as Jt,a1 as Ie,aj as xt,aD as c,aE as ye,aF as ue,aG as Dt,aH as bt,N as Ze,aI as Qt,K as Xt,B as Je,T as Ee,I as Qe,d as Xe,k as Zt,Y as pe,e as en,U as Et}from"./index-DQDqTxBb.js";import{u as tn,a as nn,o as Vt,d as on,F as an,b as rn,s as yt}from"./zod-Cpv4Fv3X.js";import{a as It}from"./form-provider-DBevHCiP.js";import{D as sn,a as ln}from"./DialogTitle-ymJkIh09.js";import{G as Ye}from"./Grid-CFl9eb3d.js";import{D as cn}from"./DialogActions-D7haeB3N.js";function Lt(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function un(n={}){const{ignoreAccents:s=!0,ignoreCase:p=!0,limit:g,matchFrom:i="any",stringify:D,trim:E=!1}=n;return(j,{inputValue:L,getOptionLabel:P})=>{let y=E?L.trim():L;p&&(y=y.toLowerCase()),s&&(y=Lt(y));const F=y?j.filter(K=>{let C=(D||P)(K);return p&&(C=C.toLowerCase()),s&&(C=Lt(C)),i==="start"?C.startsWith(y):C.includes(y)}):j;return typeof g=="number"?F.slice(0,g):F}}const pn=un(),Pt=5,dn=n=>{var s;return n.current!==null&&((s=n.current.parentElement)==null?void 0:s.contains(document.activeElement))},fn=[];function wt(n,s,p,g){if(s||n==null||g)return"";const i=p(n);return typeof i=="string"?i:""}function gn(n){const{unstable_isActiveElementInListbox:s=dn,unstable_classNamePrefix:p="Mui",autoComplete:g=!1,autoHighlight:i=!1,autoSelect:D=!1,blurOnSelect:E=!1,clearOnBlur:j=!n.freeSolo,clearOnEscape:L=!1,componentName:P="useAutocomplete",defaultValue:y=n.multiple?fn:null,disableClearable:F=!1,disableCloseOnSelect:K=!1,disabled:C,disabledItemsFocusable:de=!1,disableListWrap:fe=!1,filterOptions:Le=pn,filterSelectedOptions:X=!1,freeSolo:N=!1,getOptionDisabled:A,getOptionKey:Pe,getOptionLabel:et=t=>t.label??t,groupBy:oe,handleHomeEndKeys:tt=!n.freeSolo,id:Ct,includeInputInList:Ce=!1,inputValue:we,isOptionEqualToValue:ae=(t,e)=>t===e,multiple:d=!1,onChange:nt,onClose:ot,onHighlightChange:Re,onInputChange:Z,onOpen:Me,open:vt,openOnFocus:Ot=!1,options:$t,readOnly:U=!1,renderValue:w,selectOnFocus:at=!n.freeSolo,value:Fe}=n,W=Bt(Ct);let k=et;k=t=>{const e=et(t);return typeof e!="string"?String(e):e};const ve=I.useRef(!1),Oe=I.useRef(!0),S=I.useRef(null),z=I.useRef(null),[$e,At]=I.useState(null),[V,Ne]=I.useState(-1),rt=i?0:-1,T=I.useRef(rt),St=I.useRef(wt(y??Fe,d,k)).current,[l,Ae]=gt({controlled:Fe,default:y,name:P}),[h,re]=gt({controlled:we,default:St,name:P,state:"inputValue"}),[ge,We]=I.useState(!1),he=I.useCallback((t,e,o)=>{if(!(d?l.length<e.length:e!==null)&&!j)return;const r=wt(e,d,k,w);h!==r&&(re(r),Z&&Z(t,r,o))},[k,h,d,Z,re,j,l,w]),[Y,se]=gt({controlled:vt,default:!1,name:P,state:"open"}),[Tt,me]=I.useState(!0),Ve=!d&&l!=null&&h===k(l),R=Y&&!U,m=R?Le($t.filter(t=>!(X&&(d?l:[l]).some(e=>e!==null&&ae(t,e)))),{inputValue:Ve&&Tt?"":h,getOptionLabel:k}):[],H=Ht({filteredOptions:m,value:l,inputValue:h});I.useEffect(()=>{const t=l!==H.value;ge&&!t||N&&!t||he(null,l,"reset")},[l,he,ge,H.value,N]);const ze=Y&&m.length>0&&!U,G=Ue(t=>{if(t===-1)S.current.focus();else{const e=w?"data-item-index":"data-tag-index";$e.querySelector(`[${e}="${t}"]`).focus()}});I.useEffect(()=>{d&&V>l.length-1&&(Ne(-1),G(-1))},[l,d,V,G]);function st(t,e){if(!z.current||t<0||t>=m.length)return-1;let o=t;for(;;){const u=z.current.querySelector(`[data-option-index="${o}"]`),r=de?!1:!u||u.disabled||u.getAttribute("aria-disabled")==="true";if(u&&u.hasAttribute("tabindex")&&!r)return o;if(e==="next"?o=(o+1)%m.length:o=(o-1+m.length)%m.length,o===t)return-1}}const J=Ue(({event:t,index:e,reason:o})=>{if(T.current=e,e===-1?S.current.removeAttribute("aria-activedescendant"):S.current.setAttribute("aria-activedescendant",`${W}-option-${e}`),Re&&["mouse","keyboard","touch"].includes(o)&&Re(t,e===-1?null:m[e],o),!z.current)return;const u=z.current.querySelector(`[role="option"].${p}-focused`);u&&(u.classList.remove(`${p}-focused`),u.classList.remove(`${p}-focusVisible`));let r=z.current;if(z.current.getAttribute("role")!=="listbox"&&(r=z.current.parentElement.querySelector('[role="listbox"]')),!r)return;if(e===-1){r.scrollTop=0;return}const x=z.current.querySelector(`[data-option-index="${e}"]`);if(x&&(x.classList.add(`${p}-focused`),o==="keyboard"&&x.classList.add(`${p}-focusVisible`),r.scrollHeight>r.clientHeight&&o!=="mouse"&&o!=="touch")){const b=x,B=r.clientHeight+r.scrollTop,ft=b.offsetTop+b.offsetHeight;ft>B?r.scrollTop=ft-r.clientHeight:b.offsetTop-b.offsetHeight*(oe?1.3:0)<r.scrollTop&&(r.scrollTop=b.offsetTop-b.offsetHeight*(oe?1.3:0))}}),_=Ue(({event:t,diff:e,direction:o="next",reason:u})=>{if(!R)return;const x=st((()=>{const b=m.length-1;if(e==="reset")return rt;if(e==="start")return 0;if(e==="end")return b;const B=T.current+e;return B<0?B===-1&&Ce?-1:fe&&T.current!==-1||Math.abs(e)>1?0:b:B>b?B===b+1&&Ce?-1:fe||Math.abs(e)>1?b:0:B})(),o);if(J({index:x,reason:u,event:t}),g&&e!=="reset")if(x===-1)S.current.value=h;else{const b=k(m[x]);S.current.value=b,b.toLowerCase().indexOf(h.toLowerCase())===0&&h.length>0&&S.current.setSelectionRange(h.length,b.length)}}),it=()=>{const t=(e,o)=>{const u=e?k(e):"",r=o?k(o):"";return u===r};if(T.current!==-1&&H.filteredOptions&&H.filteredOptions.length!==m.length&&H.inputValue===h&&(d?l.length===H.value.length&&H.value.every((e,o)=>k(l[o])===k(e)):t(H.value,l))){const e=H.filteredOptions[T.current];if(e)return m.findIndex(o=>k(o)===k(e))}return-1},Se=I.useCallback(()=>{if(!R)return;const t=it();if(t!==-1){T.current=t;return}const e=d?l[0]:l;if(m.length===0||e==null){_({diff:"reset"});return}if(z.current){if(e!=null){const o=m[T.current];if(d&&o&&l.findIndex(r=>ae(o,r))!==-1)return;const u=m.findIndex(r=>ae(r,e));u===-1?_({diff:"reset"}):J({index:u});return}if(T.current>=m.length-1){J({index:m.length-1});return}J({index:T.current})}},[m.length,d?!1:l,X,_,J,R,h,d]),lt=Ue(t=>{Gt(z,t),t&&Se()});I.useEffect(()=>{Se()},[Se]);const M=t=>{Y||(se(!0),me(!0),Me&&Me(t))},ie=(t,e)=>{Y&&(se(!1),ot&&ot(t,e))},Q=(t,e,o,u)=>{if(d){if(l.length===e.length&&l.every((r,x)=>r===e[x]))return}else if(l===e)return;nt&&nt(t,e,o,u),Ae(e)},xe=I.useRef(!1),q=(t,e,o="selectOption",u="options")=>{let r=o,x=e;if(d){x=Array.isArray(l)?l.slice():[];const b=x.findIndex(B=>ae(e,B));b===-1?x.push(e):u!=="freeSolo"&&(x.splice(b,1),r="removeOption")}he(t,x,r),Q(t,x,r,{option:e}),!K&&(!t||!t.ctrlKey&&!t.metaKey)&&ie(t,r),(E===!0||E==="touch"&&xe.current||E==="mouse"&&!xe.current)&&S.current.blur()};function Be(t,e){if(t===-1)return-1;let o=t;for(;;){if(e==="next"&&o===l.length||e==="previous"&&o===-1)return-1;const u=w?"data-item-index":"data-tag-index",r=$e.querySelector(`[${u}="${o}"]`);if(!r||!r.hasAttribute("tabindex")||r.disabled||r.getAttribute("aria-disabled")==="true")o+=e==="next"?1:-1;else return o}}const He=(t,e)=>{if(!d)return;h===""&&ie(t,"toggleInput");let o=V;V===-1?h===""&&e==="previous"&&(o=l.length-1):(o+=e==="next"?1:-1,o<0&&(o=0),o===l.length&&(o=-1)),o=Be(o,e),Ne(o),G(o)},le=t=>{ve.current=!0,re(""),Z&&Z(t,"","clear"),Q(t,d?[]:null,"clear")},ct=t=>e=>{if(t.onKeyDown&&t.onKeyDown(e),!e.defaultMuiPrevented&&(V!==-1&&!["ArrowLeft","ArrowRight"].includes(e.key)&&(Ne(-1),G(-1)),e.which!==229))switch(e.key){case"Home":R&&tt&&(e.preventDefault(),_({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":R&&tt&&(e.preventDefault(),_({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),_({diff:-Pt,direction:"previous",reason:"keyboard",event:e}),M(e);break;case"PageDown":e.preventDefault(),_({diff:Pt,direction:"next",reason:"keyboard",event:e}),M(e);break;case"ArrowDown":e.preventDefault(),_({diff:1,direction:"next",reason:"keyboard",event:e}),M(e);break;case"ArrowUp":e.preventDefault(),_({diff:-1,direction:"previous",reason:"keyboard",event:e}),M(e);break;case"ArrowLeft":!d&&w?G(0):He(e,"previous");break;case"ArrowRight":!d&&w?G(-1):He(e,"next");break;case"Enter":if(T.current!==-1&&R){const o=m[T.current],u=A?A(o):!1;if(e.preventDefault(),u)return;q(e,o,"selectOption"),g&&S.current.setSelectionRange(S.current.value.length,S.current.value.length)}else N&&h!==""&&Ve===!1&&(d&&e.preventDefault(),q(e,h,"createOption","freeSolo"));break;case"Escape":R?(e.preventDefault(),e.stopPropagation(),ie(e,"escape")):L&&(h!==""||d&&l.length>0||w)&&(e.preventDefault(),e.stopPropagation(),le(e));break;case"Backspace":if(d&&!U&&h===""&&l.length>0){const o=V===-1?l.length-1:V,u=l.slice();u.splice(o,1),Q(e,u,"removeOption",{option:l[o]})}!d&&w&&!U&&(Ae(null),G(-1));break;case"Delete":if(d&&!U&&h===""&&l.length>0&&V!==-1){const o=V,u=l.slice();u.splice(o,1),Q(e,u,"removeOption",{option:l[o]})}!d&&w&&!U&&(Ae(null),G(-1));break}},ut=t=>{We(!0),Ot&&!ve.current&&M(t)},ce=t=>{if(s(z)){S.current.focus();return}We(!1),Oe.current=!0,ve.current=!1,D&&T.current!==-1&&R?q(t,m[T.current],"blur"):D&&N&&h!==""?q(t,h,"blur","freeSolo"):j&&he(t,l,"blur"),ie(t,"blur")},Te=t=>{const e=t.target.value;h!==e&&(re(e),me(!1),Z&&Z(t,e,"input")),e===""?!F&&!d&&Q(t,null,"clear"):M(t)},je=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));T.current!==e&&J({event:t,index:e,reason:"mouse"})},pt=t=>{J({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"touch"}),xe.current=!0},dt=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));q(t,m[e],"selectOption"),xe.current=!1},Ge=t=>e=>{const o=l.slice();o.splice(t,1),Q(e,o,"removeOption",{option:l[t]})},jt=t=>{Q(t,null,"removeOption",{option:l})},be=t=>{Y?ie(t,"toggleInput"):M(t)},v=t=>{t.currentTarget.contains(t.target)&&t.target.getAttribute("id")!==W&&t.preventDefault()},O=t=>{t.currentTarget.contains(t.target)&&(S.current.focus(),at&&Oe.current&&S.current.selectionEnd-S.current.selectionStart===0&&S.current.select(),Oe.current=!1)},ee=t=>{!C&&(h===""||!Y)&&be(t)};let ke=N&&h.length>0;ke=ke||(d?l.length>0:l!==null);let _e=m;return oe&&(_e=m.reduce((t,e,o)=>{const u=oe(e);return t.length>0&&t[t.length-1].group===u?t[t.length-1].options.push(e):t.push({key:o,index:o,group:u,options:[e]}),t},[])),C&&ge&&ce(),{getRootProps:(t={})=>({...t,onKeyDown:ct(t),onMouseDown:v,onClick:O}),getInputLabelProps:()=>({id:`${W}-label`,htmlFor:W}),getInputProps:()=>({id:W,value:h,onBlur:ce,onFocus:ut,onChange:Te,onMouseDown:ee,"aria-activedescendant":R?"":null,"aria-autocomplete":g?"both":"list","aria-controls":ze?`${W}-listbox`:void 0,"aria-expanded":ze,autoComplete:"off",ref:S,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:C}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:le}),getItemProps:({index:t=0}={})=>({...d&&{key:t},...w?{"data-item-index":t}:{"data-tag-index":t},tabIndex:-1,...!U&&{onDelete:d?Ge(t):jt}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:be}),getTagProps:({index:t})=>({key:t,"data-tag-index":t,tabIndex:-1,...!U&&{onDelete:Ge(t)}}),getListboxProps:()=>({role:"listbox",id:`${W}-listbox`,"aria-labelledby":`${W}-label`,ref:lt,onMouseDown:t=>{t.preventDefault()}}),getOptionProps:({index:t,option:e})=>{const o=(d?l:[l]).some(r=>r!=null&&ae(e,r)),u=A?A(e):!1;return{key:(Pe==null?void 0:Pe(e))??k(e),tabIndex:-1,role:"option",id:`${W}-option-${t}`,onMouseMove:je,onClick:dt,onTouchStart:pt,"data-option-index":t,"aria-disabled":u,"aria-selected":o}},id:W,inputValue:h,value:l,dirty:ke,expanded:R&&$e,popupOpen:R,focused:ge||V!==-1,anchorEl:$e,setAnchorEl:At,focusedItem:V,focusedTag:V,groupedOptions:_e}}var Rt,Mt;const hn=n=>{const{classes:s,disablePortal:p,expanded:g,focused:i,fullWidth:D,hasClearIcon:E,hasPopupIcon:j,inputFocused:L,popupOpen:P,size:y}=n,F={root:["root",g&&"expanded",i&&"focused",D&&"fullWidth",E&&"hasClearIcon",j&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",L&&"inputFocused"],tag:["tag",`tagSize${Wt(y)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",P&&"popupIndicatorOpen"],popper:["popper",p&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Yt(F,Jt,s)},mn=$("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,s)=>{const{ownerState:p}=n,{fullWidth:g,hasClearIcon:i,hasPopupIcon:D,inputFocused:E,size:j}=p;return[{[`& .${c.tag}`]:s.tag},{[`& .${c.tag}`]:s[`tagSize${Wt(j)}`]},{[`& .${c.inputRoot}`]:s.inputRoot},{[`& .${c.input}`]:s.input},{[`& .${c.input}`]:E&&s.inputFocused},s.root,g&&s.fullWidth,D&&s.hasPopupIcon,i&&s.hasClearIcon]}})({[`&.${c.focused} .${c.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${c.clearIndicator}`]:{visibility:"visible"}},[`& .${c.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${c.inputRoot}`]:{[`.${c.hasPopupIcon}&, .${c.hasClearIcon}&`]:{paddingRight:30},[`.${c.hasPopupIcon}.${c.hasClearIcon}&`]:{paddingRight:56},[`& .${c.input}`]:{width:0,minWidth:30}},[`& .${bt.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${bt.root}.${ue.sizeSmall}`]:{[`& .${bt.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Dt.root}`]:{padding:9,[`.${c.hasPopupIcon}&, .${c.hasClearIcon}&`]:{paddingRight:39},[`.${c.hasPopupIcon}.${c.hasClearIcon}&`]:{paddingRight:65},[`& .${c.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${c.endAdornment}`]:{right:9}},[`& .${Dt.root}.${ue.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${c.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ye.root}`]:{paddingTop:19,paddingLeft:8,[`.${c.hasPopupIcon}&, .${c.hasClearIcon}&`]:{paddingRight:39},[`.${c.hasPopupIcon}.${c.hasClearIcon}&`]:{paddingRight:65},[`& .${ye.input}`]:{padding:"7px 4px"},[`& .${c.endAdornment}`]:{right:9}},[`& .${ye.root}.${ue.sizeSmall}`]:{paddingBottom:1,[`& .${ye.input}`]:{padding:"2.5px 4px"}},[`& .${ue.hiddenLabel}`]:{paddingTop:8},[`& .${ye.root}.${ue.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${c.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ye.root}.${ue.hiddenLabel}.${ue.sizeSmall}`]:{[`& .${c.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${c.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${c.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${c.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${c.inputRoot}`]:{flexWrap:"wrap"}}}]}),xn=$("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),bn=$(Ze,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),yn=$(Ze,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(n,s)=>{const{ownerState:p}=n;return[s.popupIndicator,p.popupOpen&&s.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),In=$(Nt,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,s)=>{const{ownerState:p}=n;return[{[`& .${c.option}`]:s.option},s.popper,p.disablePortal&&s.popperDisablePortal]}})(Ie(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Cn=$(Ft,{name:"MuiAutocomplete",slot:"Paper"})(Ie(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),vn=$("div",{name:"MuiAutocomplete",slot:"Loading"})(Ie(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),On=$("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Ie(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),$n=$("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Ie(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${c.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${c.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${c.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:xt(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${c.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:xt(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${c.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:xt(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}}))),An=$(Qt,{name:"MuiAutocomplete",slot:"GroupLabel"})(Ie(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),Sn=$("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${c.option}`]:{paddingLeft:24}}),Bn=I.forwardRef(function(s,p){const g=_t({props:s,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:D=!1,autoSelect:E=!1,blurOnSelect:j=!1,ChipProps:L,className:P,clearIcon:y=Rt||(Rt=a.jsx(Kt,{fontSize:"small"})),clearOnBlur:F=!g.freeSolo,clearOnEscape:K=!1,clearText:C="Clear",closeText:de="Close",componentsProps:fe,defaultValue:Le=g.multiple?[]:null,disableClearable:X=!1,disableCloseOnSelect:N=!1,disabled:A=!1,disabledItemsFocusable:Pe=!1,disableListWrap:et=!1,disablePortal:oe=!1,filterOptions:tt,filterSelectedOptions:Ct=!1,forcePopupIcon:Ce="auto",freeSolo:we=!1,fullWidth:ae=!1,getLimitTagsText:d=f=>`+${f}`,getOptionDisabled:nt,getOptionKey:ot,getOptionLabel:Re,isOptionEqualToValue:Z,groupBy:Me,handleHomeEndKeys:vt=!g.freeSolo,id:Ot,includeInputInList:$t=!1,inputValue:U,limitTags:w=-1,ListboxComponent:at,ListboxProps:Fe,loading:W=!1,loadingText:k="Loadingâ€¦",multiple:ve=!1,noOptionsText:Oe="No options",onChange:S,onClose:z,onHighlightChange:$e,onInputChange:At,onOpen:V,open:Ne,openOnFocus:rt=!1,openText:T="Open",options:St,PaperComponent:l,PopperComponent:Ae,popupIcon:h=Mt||(Mt=a.jsx(qt,{})),readOnly:re=!1,renderGroup:ge,renderInput:We,renderOption:he,renderTags:Y,renderValue:se,selectOnFocus:Tt=!g.freeSolo,size:me="medium",slots:Ve={},slotProps:R={},value:m,...H}=g,{getRootProps:ze,getInputProps:G,getInputLabelProps:st,getPopupIndicatorProps:J,getClearProps:_,getItemProps:it,getListboxProps:Se,getOptionProps:lt,value:M,dirty:ie,expanded:Q,id:xe,popupOpen:q,focused:Be,focusedItem:He,anchorEl:le,setAnchorEl:ct,inputValue:ut,groupedOptions:ce}=gn({...g,componentName:"Autocomplete"}),Te=!X&&!A&&ie&&!re,je=(!we||Ce===!0)&&Ce!==!1,{onMouseDown:pt}=G(),{ref:dt,...Ge}=Se(),be=Re||(f=>f.label??f),v={...g,disablePortal:oe,expanded:Q,focused:Be,fullWidth:ae,getOptionLabel:be,hasClearIcon:Te,hasPopupIcon:je,inputFocused:He===-1,popupOpen:q,size:me},O=hn(v),ee={slots:{paper:l,popper:Ae,...Ve},slotProps:{chip:L,listbox:Fe,...fe,...R}},[ke,_e]=ht("listbox",{elementType:$n,externalForwardedProps:ee,ownerState:v,className:O.listbox,additionalProps:Ge,ref:dt}),[t,e]=ht("paper",{elementType:Ft,externalForwardedProps:ee,ownerState:v,className:O.paper}),[o,u]=ht("popper",{elementType:Nt,externalForwardedProps:ee,ownerState:v,className:O.popper,additionalProps:{disablePortal:oe,style:{width:le?le.clientWidth:null},role:"presentation",anchorEl:le,open:q}});let r;const x=f=>({className:O.tag,disabled:A,...it(f)});if(ve?M.length>0&&(Y?r=Y(M,x,v):se?r=se(M,x,v):r=M.map((f,te)=>{const{key:ne,...De}=x({index:te});return a.jsx(Ut,{label:be(f),size:me,...De,...ee.slotProps.chip},ne)})):se&&M!=null&&(r=se(M,x,v)),w>-1&&Array.isArray(r)){const f=r.length-w;!Be&&f>0&&(r=r.splice(0,w),r.push(a.jsx("span",{className:O.tag,children:d(f)},r.length)))}const B=ge||(f=>a.jsxs("li",{children:[a.jsx(An,{className:O.groupLabel,ownerState:v,component:"div",children:f.group}),a.jsx(Sn,{className:O.groupUl,ownerState:v,children:f.children})]},f.key)),zt=he||((f,te)=>{const{key:ne,...De}=f;return a.jsx("li",{...De,children:be(te)},ne)}),kt=(f,te)=>{const ne=lt({option:f,index:te});return zt({...ne,className:O.option},f,{selected:ne["aria-selected"],index:te,inputValue:ut},v)},Ke=ee.slotProps.clearIndicator,qe=ee.slotProps.popupIndicator;return a.jsxs(I.Fragment,{children:[a.jsx(mn,{ref:p,className:mt(O.root,P),ownerState:v,...ze(H),children:We({id:xe,disabled:A,fullWidth:!0,size:me==="small"?"small":void 0,InputLabelProps:st(),InputProps:{ref:ct,className:O.inputRoot,startAdornment:r,onMouseDown:f=>{f.target===f.currentTarget&&pt(f)},...(Te||je)&&{endAdornment:a.jsxs(xn,{className:O.endAdornment,ownerState:v,children:[Te?a.jsx(bn,{..._(),"aria-label":C,title:C,ownerState:v,...Ke,className:mt(O.clearIndicator,Ke==null?void 0:Ke.className),children:y}):null,je?a.jsx(yn,{...J(),disabled:A,"aria-label":q?de:T,title:q?de:T,ownerState:v,...qe,className:mt(O.popupIndicator,qe==null?void 0:qe.className),children:h}):null]})}},inputProps:{className:O.input,disabled:A,readOnly:re,...G()}})}),le?a.jsx(In,{as:o,...u,children:a.jsxs(Cn,{as:t,...e,children:[W&&ce.length===0?a.jsx(vn,{className:O.loading,ownerState:v,children:k}):null,ce.length===0&&!we&&!W?a.jsx(On,{className:O.noOptions,ownerState:v,role:"presentation",onMouseDown:f=>{f.preventDefault()},children:Oe}):null,ce.length>0?a.jsx(ke,{as:at,..._e,children:ce.map((f,te)=>Me?B({key:f.key,group:f.group,children:f.options.map((ne,De)=>kt(ne,f.index+De))}):kt(f,te))}):null]})}):null]})}),Tn=Vt({WEEKDAY:yt().min(1,{message:"Weekday is required!"}),START_TIME:yt().min(1,{message:"Start time is required!"}),END_TIME:yt().min(1,{message:"End time is required!"})}).refine(n=>{const s=new Date(`2000-01-01T${n.START_TIME}`);return new Date(`2000-01-01T${n.END_TIME}`)>s},{message:"End time must be after start time",path:["END_TIME"]}),jn=Vt({schedule:rn(Tn).min(1,{message:"At least one schedule entry is required!"})}).refine(n=>{const s=n.schedule.map(g=>g.WEEKDAY),p=[...new Set(s)];return s.length===p.length},{message:"Each day of the week can only appear once in the schedule",path:["schedule"]});function Hn({open:n,onClose:s,onSave:p,initialSchedule:g=[]}){const[i,D]=I.useState(!1),E={schedule:g.length>0?g:[{WEEKDAY:"Monday",START_TIME:"09:00",END_TIME:"10:00"}]},j=tn({mode:"onSubmit",resolver:nn(jn),defaultValues:E}),{reset:L,handleSubmit:P,control:y,formState:{errors:F}}=j,{fields:K,append:C,remove:de}=on({control:y,name:"schedule"}),fe=P(async N=>{D(!0);try{await p(N.schedule),s(),L()}catch(A){console.error("Error saving schedule:",A)}finally{D(!1)}}),Le=N=>{N.preventDefault(),N.stopPropagation(),fe()},X=()=>{L(),s()};return a.jsxs(Xt,{fullWidth:!0,maxWidth:"md",open:n,onClose:X,PaperProps:{sx:{borderRadius:2}},children:[a.jsx(sn,{sx:{pb:2},children:a.jsxs(Je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(Ee,{variant:"h6",children:"Course Schedule"}),a.jsx(Ze,{onClick:X,children:a.jsx(Qe,{icon:"eva:close-fill"})})]})}),a.jsx(an,{...j,children:a.jsxs("form",{onSubmit:Le,children:[a.jsxs(ln,{sx:{pb:2},children:[a.jsx(Ee,{variant:"body2",sx:{color:"text.secondary",mb:3},children:"Set the schedule for each day independently. Each day can have different start and end times."}),a.jsx(Je,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:a.jsx(Xe,{variant:"outlined",startIcon:a.jsx(Qe,{icon:"eva:plus-fill"}),onClick:()=>C({WEEKDAY:"Monday",START_TIME:"09:00",END_TIME:"10:00"}),children:"Add Schedule"})}),K.map((N,A)=>a.jsx(Zt,{sx:{p:2,mb:2},children:a.jsxs(Ye,{container:!0,spacing:2,children:[a.jsx(Ye,{size:{xs:12,sm:4},children:a.jsxs(It.Select,{name:`schedule.${A}.WEEKDAY`,label:"Day of Week",children:[a.jsx(pe,{value:"Monday",children:"Monday"}),a.jsx(pe,{value:"Tuesday",children:"Tuesday"}),a.jsx(pe,{value:"Wednesday",children:"Wednesday"}),a.jsx(pe,{value:"Thursday",children:"Thursday"}),a.jsx(pe,{value:"Friday",children:"Friday"}),a.jsx(pe,{value:"Saturday",children:"Saturday"}),a.jsx(pe,{value:"Sunday",children:"Sunday"})]})}),a.jsx(Ye,{size:{xs:12,sm:4},children:a.jsx(It.Text,{name:`schedule.${A}.START_TIME`,label:"Start Time",type:"time",InputLabelProps:{shrink:!0}})}),a.jsx(Ye,{size:{xs:12,sm:4},children:a.jsxs(Je,{sx:{display:"flex",alignItems:"flex-end",height:"100%"},children:[a.jsx(It.Text,{name:`schedule.${A}.END_TIME`,label:"End Time",type:"time",InputLabelProps:{shrink:!0},sx:{flex:1}}),K.length>1&&a.jsx(Ze,{color:"error",onClick:()=>de(A),sx:{ml:1,mb:.5},children:a.jsx(Qe,{icon:"eva:trash-2-fill"})})]})})]})},N.id)),F.schedule&&a.jsx(Ee,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:F.schedule.message})]}),a.jsxs(cn,{sx:{px:3,pb:3},children:[a.jsx(Xe,{variant:"outlined",color:"inherit",onClick:X,children:"Cancel"}),a.jsx(Xe,{type:"submit",variant:"contained",loading:i,children:"Save Schedule"})]})]})})]})}function Gn({sx:n,imgUrl:s,action:p,filled:g,slotProps:i,description:D,title:E="No data",...j}){var L,P,y,F,K,C;return a.jsxs(kn,{filled:g,sx:n,...j,children:[a.jsx(Je,{component:"img",alt:"Empty content",src:s??`${en.assetsDir}/assets/icons/empty/ic-content.svg`,...i==null?void 0:i.img,sx:[{width:1,maxWidth:160},...Array.isArray((L=i==null?void 0:i.img)==null?void 0:L.sx)?i.img.sx:[(P=i==null?void 0:i.img)==null?void 0:P.sx]]}),E&&a.jsx(Ee,{variant:"h6",...i==null?void 0:i.title,sx:[{mt:1,textAlign:"center",color:"text.disabled"},...Array.isArray((y=i==null?void 0:i.title)==null?void 0:y.sx)?i.title.sx:[(F=i==null?void 0:i.title)==null?void 0:F.sx]],children:E}),D&&a.jsx(Ee,{variant:"body2",...i==null?void 0:i.description,sx:[{mt:1,textAlign:"center",color:"text.disabled"},...Array.isArray((K=i==null?void 0:i.description)==null?void 0:K.sx)?i.description.sx:[(C=i==null?void 0:i.description)==null?void 0:C.sx]],children:D}),p&&p]})}const kn=$("div",{shouldForwardProp:n=>!["filled","sx"].includes(n)})(({filled:n,theme:s})=>({flexGrow:1,height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:s.spacing(0,3),...n&&{borderRadius:Number(s.shape.borderRadius)*2,backgroundColor:Et(s.vars.palette.grey["500Channel"],.04),border:`dashed 1px ${Et(s.vars.palette.grey["500Channel"],.08)}`}}));function _n({label:n,children:s,isShow:p,sx:g,...i}){return p?a.jsxs(Dn,{sx:g,...i,children:[a.jsx(En,{children:n}),a.jsx(Ln,{children:s})]}):null}const Dn=$("div")(({theme:n})=>({display:"flex",overflow:"hidden",gap:n.spacing(1),padding:n.spacing(1),borderRadius:n.shape.borderRadius,border:`dashed 1px ${n.vars.palette.divider}`})),En=$("span")(({theme:n})=>({height:24,lineHeight:"24px",fontSize:n.typography.subtitle2.fontSize,fontWeight:n.typography.subtitle2.fontWeight})),Ln=$("div")(({theme:n})=>({display:"flex",flexWrap:"wrap",gap:n.spacing(1)})),Kn={size:"small",variant:"soft"};function qn({sx:n,onReset:s,children:p,totalResults:g,...i}){return a.jsxs(Pn,{sx:n,...i,children:[a.jsxs(wn,{children:[a.jsx("strong",{children:g}),a.jsx("span",{children:" results found"})]}),a.jsxs(Rn,{children:[p,a.jsx(Xe,{color:"error",onClick:s,startIcon:a.jsx(Qe,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}const Pn=$("div")``,wn=$("div")(({theme:n})=>({...n.typography.body2,marginBottom:n.spacing(1.5),"& span":{color:n.vars.palette.text.secondary}})),Rn=$("div")(({theme:n})=>({flexGrow:1,display:"flex",flexWrap:"wrap",alignItems:"center",gap:n.spacing(1)}));export{Bn as A,Gn as E,qn as F,Hn as S,_n as a,Kn as c};
