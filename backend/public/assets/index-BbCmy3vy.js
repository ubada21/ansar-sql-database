import{g as K,f as Q,r as g,u as W,h as m,T as p,j as e,s as v,i as X,t as P,B as i,D as Y,I as j,k as Z,n as ee,U as S,o as te,q as ae,v as se,p as T,w as oe,x as re,R as ne,y as ie,z as le,E as ce,e as de}from"./index-C4gKnlNZ.js";import{C as b,a as pe}from"./custom-breadcrumbs-BhuFLxww.js";import{G as u}from"./Grid-DrwRTrSg.js";import{S as C}from"./Stack-BBoccUvf.js";import"./isMuiElement-B6AljemQ.js";function xe(t){return Q("MuiCardHeader",t)}const A=K("MuiCardHeader",["root","avatar","action","content","title","subheader"]),he=t=>{const{classes:a}=t;return X({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},xe,a)},me=v("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,a)=>[{[`& .${A.title}`]:a.title},{[`& .${A.subheader}`]:a.subheader},a.root]})({display:"flex",alignItems:"center",padding:16}),ye=v("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),fe=v("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),ge=v("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${P.root}:where(& .${A.title})`]:{display:"block"},[`.${P.root}:where(& .${A.subheader})`]:{display:"block"}}),w=g.forwardRef(function(a,l){const r=W({props:a,name:"MuiCardHeader"}),{action:n,avatar:s,component:o="div",disableTypography:c=!1,subheader:N,subheaderTypographyProps:R,title:U,titleTypographyProps:I,slots:H={},slotProps:M={},...D}=r,d={...r,component:o,disableTypography:c},x=he(d),h={slots:H,slotProps:{title:I,subheader:R,...M}};let y=U;const[$,k]=m("title",{className:x.title,elementType:p,externalForwardedProps:h,ownerState:d,additionalProps:{variant:s?"body2":"h5",component:"span"}});y!=null&&y.type!==p&&!c&&(y=e.jsx($,{...k,children:y}));let f=N;const[L,F]=m("subheader",{className:x.subheader,elementType:p,externalForwardedProps:h,ownerState:d,additionalProps:{variant:s?"body2":"body1",color:"textSecondary",component:"span"}});f!=null&&f.type!==p&&!c&&(f=e.jsx(L,{...F,children:f}));const[_,B]=m("root",{ref:l,className:x.root,elementType:me,externalForwardedProps:{...h,...D,component:o},ownerState:d}),[z,G]=m("avatar",{className:x.avatar,elementType:ye,externalForwardedProps:h,ownerState:d}),[O,V]=m("content",{className:x.content,elementType:ge,externalForwardedProps:h,ownerState:d}),[q,J]=m("action",{className:x.action,elementType:fe,externalForwardedProps:h,ownerState:d});return e.jsxs(_,{...B,children:[s&&e.jsx(z,{...G,children:s}),e.jsxs(O,{...V,children:[y,f]}),n&&e.jsx(q,{...J,children:n})]})});function je({user:t,sx:a,...l}){const r=()=>e.jsx(b,{sx:{py:3,textAlign:"center",typography:"h4"},children:e.jsxs(C,{divider:e.jsx(Y,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{flexDirection:"row"},children:[e.jsxs(C,{sx:{width:1},children:[e.jsx(p,{variant:"h4",children:(t==null?void 0:t.UID)||"N/A"}),e.jsx(i,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"User ID"})]}),e.jsxs(C,{sx:{width:1},children:[e.jsx(p,{variant:"h4",children:t!=null&&t.EMAIL?"Active":"Inactive"}),e.jsx(i,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"Status"})]})]})}),n=()=>e.jsxs(b,{children:[e.jsx(w,{title:"About"}),e.jsxs(i,{sx:{p:3,gap:2,display:"flex",typography:"body2",flexDirection:"column"},children:[e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:user-id-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Name:"})," ",t==null?void 0:t.FIRSTNAME," ",t==null?void 0:t.LASTNAME]})]}),e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:letter-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Email:"})," ",(t==null?void 0:t.EMAIL)||"N/A"]})]}),e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:phone-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Phone:"})," ",(t==null?void 0:t.PHONENUMBER)||"N/A"]})]}),e.jsxs(i,{sx:{gap:2,display:"flex",lineHeight:"24px"},children:[e.jsx(j,{width:24,icon:"solar:calendar-bold"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Created:"})," ",t!=null&&t.CREATED_AT?new Date(t.CREATED_AT).toLocaleDateString():"N/A"]})]})]})]}),s=()=>e.jsxs(b,{children:[e.jsx(w,{title:"User Data"}),e.jsx(i,{sx:{p:3},children:e.jsx(p,{variant:"body2",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap"},children:JSON.stringify(t,null,2)})})]});return e.jsxs(u,{container:!0,spacing:3,sx:a,...l,children:[e.jsxs(u,{size:{xs:12,md:4},sx:{gap:3,display:"flex",flexDirection:"column"},children:[r(),n()]}),e.jsx(u,{size:{xs:12,md:8},sx:{gap:3,display:"flex",flexDirection:"column"},children:s()})]})}function be({sx:t,name:a,role:l,coverUrl:r,avatarUrl:n,...s}){return e.jsx(i,{sx:[o=>({...o.mixins.bgGradient({images:[`linear-gradient(0deg, ${S(o.vars.palette.primary.darkerChannel,.8)}, ${S(o.vars.palette.primary.darkerChannel,.8)})`,`url(${r})`]}),height:1,color:"common.white"}),...Array.isArray(t)?t:[t]],...s,children:e.jsxs(i,{sx:{display:"flex",left:{md:24},bottom:{md:24},zIndex:{md:10},pt:{xs:6,md:0},position:{md:"absolute"},flexDirection:{xs:"column",md:"row"}},children:[e.jsx(Z,{alt:a,src:n,sx:[o=>({mx:"auto",width:{xs:64,md:128},height:{xs:64,md:128},border:`solid 2px ${o.vars.palette.common.white}`})],children:a==null?void 0:a.charAt(0).toUpperCase()}),e.jsx(ee,{primary:a,secondary:l,slotProps:{primary:{sx:{typography:"h4"}},secondary:{sx:{mt:.5,opacity:.48,color:"inherit"}}},sx:{mt:3,ml:{md:3},textAlign:{xs:"center",md:"unset"}}})]})})}const Ae=[{value:"",label:"Profile",icon:e.jsx(j,{width:24,icon:"solar:user-id-bold"})}],E="tab";function ve({user:t}){const a=te(),r=ae().get(E)??"",n=(s,o)=>{const c=new URLSearchParams({[E]:o}).toString();return o?`${s}?${c}`:s};return e.jsxs(se,{children:[e.jsx(pe,{heading:"Profile",links:[{name:"Dashboard",href:T.dashboard.root},{name:"User",href:T.dashboard.user.root},{name:t!=null&&t.FIRSTNAME?`${t.FIRSTNAME} ${t.LASTNAME}`:"Profile"}],sx:{mb:{xs:3,md:5}}}),e.jsxs(b,{sx:{height:290},children:[e.jsx(be,{role:"User",name:t!=null&&t.FIRSTNAME?`${t.FIRSTNAME} ${t.LASTNAME}`:"User",avatarUrl:t==null?void 0:t.avatarUrl,coverUrl:"/assets/images/cover/cover_1.jpg"}),e.jsx(i,{sx:{width:1,bottom:0,zIndex:9,px:{md:3},display:"flex",position:"absolute",bgcolor:"background.paper",justifyContent:{xs:"center",md:"flex-end"}},children:e.jsx(oe,{value:r,children:Ae.map(s=>e.jsx(re,{component:ne,value:s.value,icon:s.icon,label:s.label,href:n(a,s.value)},s.value))})})]}),r===""&&e.jsx(je,{user:t,sx:{mt:3}})]})}const ue=ce.API_URL,Ce={title:`Profile | Account - ${de.appName}`};function Ne(){const t=ie(),{authenticated:a}=le(),[l,r]=g.useState({});a||t.push("/login");const n=g.useCallback(async()=>{try{const o=await fetch(ue+"/profile",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),c=await o.json();o.ok&&r(c.user)}catch(o){console.error("Error fetching profile data:",o)}},[]),s=g.useCallback(async()=>{try{a?await n():t.push("/login")}catch(o){console.error("Error checking auth:",o)}},[a,t,n]);return g.useEffect(()=>{s()},[s]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:Ce.title}),e.jsx(ve,{user:l})]})}export{Ne as default};
