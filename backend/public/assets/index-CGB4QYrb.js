import{u,f as h,r as s,g as d,j as t,e as f,D as p}from"./index-BvmmVfrz.js";const g=d.API_URL,x={title:`Profile | Account - ${f.appName}`};function m(){const o=u(),{authenticated:a}=h(),[r,i]=s.useState({});a||o.push("/login");const n=s.useCallback(async()=>{try{const e=await fetch(g+"/profile",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),l=await e.json();e.ok&&i(l.user)}catch(e){console.log(e)}},[]),c=s.useCallback(async()=>{try{a?(console.log("Authorized:"),await n()):(console.log("Unauthorized"),o.push("/login"))}catch(e){console.log(e)}},[a,o,n]);return s.useEffect(()=>{c()},[c]),t.jsxs(t.Fragment,{children:[t.jsx("title",{children:x.title}),t.jsxs(p,{maxWidth:"xl",children:[t.jsx("h1",{children:"Profile Page"}),t.jsx("p",{children:JSON.stringify(r)})]})]})}export{m as default};
