import{j as e,B as n,T as p,b as m,y as b,K as w,z as A,r as v,N as F,p as N,R as T,A as k,O as E,Q as P,I as S,d as L}from"./index-C4gKnlNZ.js";import{u as I,a as M,F as B,o as q,b as o,s as l}from"./form-provider-C5uGq2GD.js";function C(s){if(s instanceof Error)return s.message||s.name||"An error occurred";if(typeof s=="string")return s;if(typeof s=="object"&&s!==null){const a=s.message;if(typeof a=="string")return a}return`Unknown error: ${s}`}function R({sx:s,icon:a,title:r,description:t,...c}){return e.jsxs(e.Fragment,{children:[a&&e.jsx(n,{component:"span",sx:{mb:3,mx:"auto",display:"inline-flex"},children:a}),e.jsxs(n,{sx:[()=>({mb:5,gap:1.5,display:"flex",textAlign:"center",whiteSpace:"pre-line",flexDirection:"column"}),...Array.isArray(s)?s:[s]],...c,children:[e.jsx(p,{variant:"h5",children:r}),t&&e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:t})]})]})}function U({sx:s,...a}){return e.jsxs(n,{component:"span",sx:[()=>({mt:3,display:"block",textAlign:"center",typography:"caption",color:"text.secondary"}),...Array.isArray(s)?s:[s]],...a,children:["By signing up, I agree to ",e.jsx(m,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(m,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]})}const D=q({firstName:l().min(1,{message:"First name is required!"}),lastName:l().min(1,{message:"Last name is required!"}),email:l().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:l().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function H(){const s=b(),a=w(),{checkUserSession:r}=A(),[t,c]=v.useState(null),x={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@2Minimal"},d=I({resolver:M(D),defaultValues:x}),{handleSubmit:g,formState:{isSubmitting:h}}=d,y=g(async i=>{try{await F({email:i.email,password:i.password,firstName:i.firstName,lastName:i.lastName}),await(r==null?void 0:r()),s.refresh()}catch(u){console.error(u);const j=C(u);c(j)}}),f=()=>e.jsxs(n,{sx:{gap:3,display:"flex",flexDirection:"column"},children:[e.jsxs(n,{sx:{display:"flex",gap:{xs:3,sm:2},flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(o.Text,{name:"firstName",label:"First name",slotProps:{inputLabel:{shrink:!0}}}),e.jsx(o.Text,{name:"lastName",label:"Last name",slotProps:{inputLabel:{shrink:!0}}})]}),e.jsx(o.Text,{name:"email",label:"Email address",slotProps:{inputLabel:{shrink:!0}}}),e.jsx(o.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:a.value?"text":"password",slotProps:{inputLabel:{shrink:!0},input:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(P,{onClick:a.onToggle,edge:"end",children:e.jsx(S,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),e.jsx(L,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:h,loadingIndicator:"Create account...",children:"Create account"})]});return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Get started absolutely free",description:e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx(m,{component:T,href:N.auth.jwt.signIn,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),!!t&&e.jsx(k,{severity:"error",sx:{mb:3},children:t}),e.jsx(B,{methods:d,onSubmit:y,children:f()}),e.jsx(U,{})]})}export{H as J};
