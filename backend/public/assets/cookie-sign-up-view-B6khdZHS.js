import{j as e,B as n,T as p,b as c,z as b,a3 as w,E as A,r as v,a4 as F,p as N,R as T,A as k,Q as E,N as S,I as P,d as L}from"./index-C-qVRBSV.js";import{u as C,a as I,o as M,s as o}from"./zod-C7tQxOxR.js";import{F as B,a as l}from"./form-provider-BjVfvvTB.js";function q(s){if(s instanceof Error)return s.message||s.name||"An error occurred";if(typeof s=="string")return s;if(typeof s=="object"&&s!==null){const a=s.message;if(typeof a=="string")return a}return`Unknown error: ${s}`}function R({sx:s,icon:a,title:r,description:t,...m}){return e.jsxs(e.Fragment,{children:[a&&e.jsx(n,{component:"span",sx:{mb:3,mx:"auto",display:"inline-flex"},children:a}),e.jsxs(n,{sx:[()=>({mb:5,gap:1.5,display:"flex",textAlign:"center",whiteSpace:"pre-line",flexDirection:"column"}),...Array.isArray(s)?s:[s]],...m,children:[e.jsx(p,{variant:"h5",children:r}),t&&e.jsx(p,{variant:"body2",sx:{color:"text.secondary"},children:t})]})]})}function U({sx:s,...a}){return e.jsxs(n,{component:"span",sx:[()=>({mt:3,display:"block",textAlign:"center",typography:"caption",color:"text.secondary"}),...Array.isArray(s)?s:[s]],...a,children:["By signing up, I agree to ",e.jsx(c,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(c,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]})}const D=M({firstName:o().min(1,{message:"First name is required!"}),lastName:o().min(1,{message:"Last name is required!"}),email:o().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:o().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function G(){const s=b(),a=w(),{checkUserSession:r}=A(),[t,m]=v.useState(null),x={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@2Minimal"},d=C({resolver:I(D),defaultValues:x}),{handleSubmit:g,formState:{isSubmitting:h}}=d,y=g(async i=>{try{await F({email:i.email,password:i.password,firstName:i.firstName,lastName:i.lastName}),await(r==null?void 0:r()),s.refresh()}catch(u){console.error(u);const j=q(u);m(j)}}),f=()=>e.jsxs(n,{sx:{gap:3,display:"flex",flexDirection:"column"},children:[e.jsxs(n,{sx:{display:"flex",gap:{xs:3,sm:2},flexDirection:{xs:"column",sm:"row"}},children:[e.jsx(l.Text,{name:"firstName",label:"First name",slotProps:{inputLabel:{shrink:!0}}}),e.jsx(l.Text,{name:"lastName",label:"Last name",slotProps:{inputLabel:{shrink:!0}}})]}),e.jsx(l.Text,{name:"email",label:"Email address",slotProps:{inputLabel:{shrink:!0}}}),e.jsx(l.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:a.value?"text":"password",slotProps:{inputLabel:{shrink:!0},input:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(S,{onClick:a.onToggle,edge:"end",children:e.jsx(P,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}}),e.jsx(L,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:h,loadingIndicator:"Create account...",children:"Create account"})]});return e.jsxs(e.Fragment,{children:[e.jsx(R,{title:"Get started absolutely free",description:e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx(c,{component:T,href:N.login,variant:"subtitle2",children:"Sign in"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),!!t&&e.jsx(k,{severity:"error",sx:{mb:3},children:t}),e.jsx(B,{methods:d,onSubmit:y,children:f()}),e.jsx(U,{})]})}export{G as C};
